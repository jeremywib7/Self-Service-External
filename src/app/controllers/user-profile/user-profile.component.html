<div class="surface-section px-4 py-8 md:px-6 lg:px-8">
    <div class="grid">
        <div class="col-12 lg:col-2">
            <div class="text-900 font-medium text-xl mb-3">Profile</div>
            <p class="m-0 p-0 text-600 line-height-3 mr-3">You can customize your profile to be displayed when ordering
                food.</p>
        </div>

        <div class="col-12 lg:col-10">
            <form *ngIf="this.userService.formProfile" [formGroup]="this.userService.formProfile">
                <div class="grid formgrid p-fluid">
                    <div class="field mb-4 col-12">
                        <label for="nickname" class="font-medium text-900">Username</label>
                        <input id="nickname" type="text" pInputText formControlName="username"
                               [ngClass]="{'ng-invalid ng-dirty' : this.userService.formProfile.controls.username.errors &&
                                this.userService.formProfile.controls.username.touched}">
                        <small id="username1-help" class="block">Displayed when ordering.</small>
                        <div *ngIf="this.userService.formProfile.controls.username.errors && (this.userService.formProfile.controls.username.touched ||
                           this.userService.formProfile.controls.username.dirty) ">
                            <div *ngIf="this.userService.formProfile.hasError('required','username')">
                                <small class="p-error">Username is required.</small>
                            </div>
                        </div>
                    </div>

                    <div class="field col-12 md:col-6">
                        <label for="firstName" class="font-medium text-900">First Name</label>
                        <input type="text" pInputText id="firstName" formControlName="firstName"
                               [ngClass]="{'ng-invalid ng-dirty' : this.userService.formProfile.controls.firstName.errors &&
                                   this.userService.formProfile.controls.firstName.touched}"/>
                        <div *ngIf="this.userService.formProfile.controls.firstName.errors && (this.userService.formProfile.controls.firstName.touched ||
                           this.userService.formProfile.controls.firstName.dirty) ">
                            <div *ngIf="this.userService.formProfile.hasError('required','firstName')">
                                <small class="p-error">First Name is required</small>
                            </div>
                            <div *ngIf="this.userService.formProfile.hasError('alpha','firstName')">
                                <small class="p-error">Only alphabet are allowed</small>
                            </div>
                            <div *ngIf="this.userService.formProfile.hasError('minlength','firstName')">
                                <small class="p-error">First Name must be 3 characters or more</small>
                            </div>
                        </div>
                    </div>

                    <div class="field col-12 md:col-6">
                        <label for="lastName" class="font-medium text-900">Last Name</label>
                        <input type="text" pInputText id="lastName" formControlName="lastName"
                               [ngClass]="{'ng-invalid ng-dirty' : this.userService.formProfile.controls.lastName.errors &&
                                   (this.userService.formProfile.controls.lastName.touched || this.userService.formProfile.controls.lastName.dirty)}"/>
                        <div *ngIf="this.userService.formProfile.controls.lastName.errors && (this.userService.formProfile.controls.lastName.touched ||
                           this.userService.formProfile.controls.lastName.dirty) " style="color: red">
                            <div *ngIf="this.userService.formProfile.hasError('required','lastName')">
                                <small class="p-error">Last Name is required</small>
                            </div>
                            <div *ngIf="this.userService.formProfile.hasError('alpha','lastName')">
                                <small class="p-error">Only alphabet are allowed</small>
                            </div>
                            <div *ngIf="this.userService.formProfile.hasError('minlength','lastName')">
                                <small class="p-error">Last Name must be 3 characters or more</small>
                            </div>
                        </div>
                    </div>

                    <div class="field mb-4 col-12">
                        <label for="email" class="font-medium text-900">Email</label>
                        <input id="email" type="text" pInputText formControlName="email" [ngClass]="{'ng-invalid ng-dirty' :
                        this.userService.formProfile.controls.email.errors && this.userService.formProfile.controls.email.dirty}">
                        <div *ngIf="this.userService.formProfile.controls.email.errors &&
                        this.userService.formProfile.controls.email.dirty" style="color: red">
                            <div *ngIf="this.userService.formProfile.hasError('required','email')">
                                <small class="p-error">Email is required</small>
                            </div>
                            <div *ngIf="this.userService.formProfile.hasError('email','email')">
                                <small class="p-error">Email format is invalid</small>
                            </div>
                        </div>
                    </div>

                    <div class="field mb-4 col-12">
                        <label for="gender" class="font-medium text-900">Gender</label>
                        <div id="gender" *ngFor="let gender of userService?.gender" class="field-checkbox">
                            <p-radioButton [inputId]="gender?.key" [value]="gender.key" [ngClass]="{'ng-invalid ng-dirty' :
                        this.userService.formProfile.controls.gender.errors && (this.userService.formProfile.controls.gender.touched ||
                         this.userService.formProfile.controls.gender.dirty)}"
                                           formControlName="gender"></p-radioButton>
                            <label [for]="gender?.key">{{gender?.name}}</label>
                        </div>
                    </div>

                    <div class="field mb-4 col-12">
                        <label class="font-medium text-900">Password</label>
                        <p-password styleClass="p-password p-component p-inputwrapper p-input-icon-right"
                                    formControlName="password" [toggleMask]="true" [ngClass]="{'ng-invalid ng-dirty' :
                        this.userService.formProfile.controls.password?.errors &&
                        (this.userService.formProfile.controls.password?.touched || this.userService.formProfile.controls.password?.dirty)}">
                            <ng-template pTemplate="header">
                                <h6>Pick a password</h6>
                            </ng-template>
                            <ng-template pTemplate="footer">
                                <p-divider></p-divider>
                                <p class="mt-2">Suggestions</p>
                                <ul class="pl-2 ml-2 mt-0" style="line-height: 1.5">
                                    <li>At least one lowercase</li>
                                    <li>At least one uppercase</li>
                                    <li>At least one numeric</li>
                                    <li>Minimum 8 characters</li>
                                </ul>
                            </ng-template>
                        </p-password>
                    </div>

                    <div class="col-12">
                        <button (click)="saveUserProfile()" pButton pRipple label="Save Changes"
                                class="w-auto mt-3"></button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
